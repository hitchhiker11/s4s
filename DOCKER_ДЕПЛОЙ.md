# üê≥ DOCKER –î–ï–ü–õ–û–ô - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–µ—Å—à–æ–≤–Ω–æ!

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π!)

### 1. –õ–æ–∫–∞–ª—å–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç–µ:
```bash
git add .
git commit -m "Docker setup"
git push
```

### 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ:
```bash
git pull
./deploy.sh
```

**üéâ –í–°–Å! –°–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!**

---

## üîß –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

- ‚úÖ **–°–±–æ—Ä–∫–∞** Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Docker
- ‚úÖ **–ó–∞–ø—É—Å–∫** PHP —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –°–î–≠–ö
- ‚úÖ **–ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è** –æ—Ç —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É:

### –ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:
- **–°–∞–π—Ç**: `http://–í–ê–®_IP:3000`
- **PHP**: `http://–í–ê–®_IP:8000`

### –° Nginx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞):
```bash
./deploy-with-nginx.sh
```
- **–°–∞–π—Ç**: `http://–í–ê–®_IP` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π 80 –ø–æ—Ä—Ç)

---

## üìã –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
# –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π
./deploy.sh

# –î–µ–ø–ª–æ–π —Å Nginx
./deploy-with-nginx.sh

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
git pull && ./deploy.sh
```

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è:

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```bash
# –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ
cd frontend
npm run dev
```

### 2. –ì–æ—Ç–æ–≤—ã –∫ –¥–µ–ø–ª–æ—é:
```bash
git add .
git commit -m "Update"
git push
```

### 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ):
```bash
git pull
./deploy.sh
```

**–ì–æ—Ç–æ–≤–æ! –°–∞–π—Ç –æ–±–Ω–æ–≤–ª–µ–Ω!**

---

## ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker:

```
üì¶ Docker Setup
‚îú‚îÄ‚îÄ Dockerfile              # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ docker-compose.yml      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ nginx.conf              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îú‚îÄ‚îÄ deploy.sh               # –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π
‚îú‚îÄ‚îÄ deploy-with-nginx.sh    # –î–µ–ø–ª–æ–π —Å Nginx
‚îî‚îÄ‚îÄ .dockerignore           # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Docker
```

---

## üîç –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

### Frontend (Next.js):
- ‚úÖ Node.js 18 Alpine
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
- ‚úÖ Standalone —Ä–µ–∂–∏–º
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫

### PHP Server:
- ‚úÖ PHP 8.2 CLI Alpine
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –°–î–≠–ö –≤–∏–¥–∂–µ—Ç–æ–º

### Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- ‚úÖ –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏
- ‚úÖ –°–∂–∞—Ç–∏–µ gzip
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å headers

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo apt install docker-compose

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
```

---

## üî• –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Docker –ø–æ–¥—Ö–æ–¥–∞:

- üöÄ **–ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π** - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞
- üîí **–ò–∑–æ–ª—è—Ü–∏—è** - –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∏—Å—Ç–µ–º—É
- üì¶ **–ü–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ
- üîß **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å PM2/Node.js
- üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞

---

## üÜò Troubleshooting:

```bash
# –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏
sudo netstat -tulpn | grep :3000
sudo lsof -i :3000

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker
sudo systemctl restart docker

# –û—á–∏—Å—Ç–∫–∞ Docker
docker system prune -a

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
docker-compose build --no-cache

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs frontend
docker-compose logs php-server
```

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

### –î–æ–±–∞–≤–∏—Ç—å SSL (Let's Encrypt):
```bash
# –í docker-compose.yml –¥–æ–±–∞–≤–∏—Ç—å certbot
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ docker-compose.yml:
# - Prometheus
# - Grafana
# - Node Exporter
```

### Backup:
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –¥–∞–Ω–Ω—ã—Ö
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å S3/–æ–±–ª–∞–∫–æ–º
```

---

## ‚úÖ –ò—Ç–æ–≥–æ: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±–µ—Å—à–æ–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å!

1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ
2. **–î–µ–ø–ª–æ–π**: `git push` ‚Üí `git pull && ./deploy.sh`
3. **–ì–æ—Ç–æ–≤–æ**: —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ IP —Å–µ—Ä–≤–µ—Ä–∞!

**–ù–∏–∫–∞–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ PM2, Node.js, PHP - –≤—Å—ë –≤ Docker! üê≥** 