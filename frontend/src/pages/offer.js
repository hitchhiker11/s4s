import React from 'react';
import Head from 'next/head';
import Header from '../components/Header';
import Footer from '../components/Footer';
import Breadcrumbs from '../components/Breadcrumbs';
import ContactsModal from '../components/modals/ContactsModal';
import { COLORS, SPACING } from '../styles/tokens';
import styles from '../styles/pages/AboutPage.module.css';

const breadcrumbItems = [
  { href: '/', label: 'Главная' },
  { href: '/offer', label: 'Договор-оферта' },
];

// Данные для страницы Договор-оферта
const offerData = {
  title: 'Публичная оферта',
  content: [
    'Интернет-магазин - интернет-сайт "shop4shoot", размещенный в сети Интернет по адресу: https://shop4shoot.com, публикует Публичную оферту о продаже Товара дистанционным способом.',
    '',
    '1. ОПРЕДЕЛЕНИЕ ТЕРМИНОВ',
    '',
    '1.1. Публичная оферта (далее – «Оферта») - публичное предложение Продавца, адресованное неопределенному кругу лиц, заключить с Продавцом договор купли-продажи товара дистанционным способом (далее - «Договор») на условиях, содержащихся в настоящей Оферте, включая все Приложения.',
    '',
    '1.2. Заказ Товара на сайте Интернет-магазина – позиции, указанные Покупателем из ассортимента Товара, предложенного к продаже, при оформлении заявки на приобретение Товара на сайте Интернет-магазина или через Оператора.',
    '',
    'Интернет-сайт доступен круглосуточно. Рабочие часы магазина (обработка и выполнение заказов и пр.): с 09:00 до 21:00 по московскому времени в рабочие дни.',
    '',
    '1.3. Покупатель - любое физическое или юридическое лицо, которое оформило заказ на приобретение товара у Продавца в установленном порядке.',
    '',
    '1.4. Покупатель-потребитель - физическое лицо, которое приобретает товар для личных, семейных, домашних и иных нужд, которые не связаны с его предпринимательской деятельностью.',
    '',
    '2. ОБЩИЕ ПОЛОЖЕНИЯ',
    '',
    '2.1. Продавец обязуется передать в собственность Покупателю, а Покупатель обязуется оплатить и принять Товар, заказанный на условиях оферты в Интернет-магазине. Заказ Покупателем Товара, размещенного на сайте Интернет-магазина означает, что Покупатель согласен со всеми условиями настоящей Оферты.',
    '',
    '2.2. Администрация сайта Интернет-магазина имеет право вносить изменения в Оферту в одностороннем порядке. Все изменения вступают в силу и считаются доведенными до сведения Покупателя в момент размещения на указанной Интернет-странице. Заказы, которые уже оформлены к моменту изменения или отзыва оферты, исполняются на условиях оферты, которая действовала на момент их оформления.',
    '',
    '2.3. Срок действия Оферты не ограничен.',
    '',
    '2.4. Продавец предоставляет Покупателю полную и достоверную информацию о Товаре, включая информацию об основных потребительских свойствах Товара, месте изготовления, а также информацию о гарантийном сроке и сроке годности Товара на сайте Интернет-магазина, в разделе «Каталог».',
    '',
    '3. ЦЕНА ТОВАРА',
    '',
    '3.1. Цена на каждую позицию Товара указана на сайте Интернет-магазина. Стоимость доставки не входит в цену товара и оплачивается отдельно.',
    '',
    '3.2. Продавец имеет право в одностороннем порядке изменить цену на любую позицию Товара.',
    '',
    '3.3. В случае изменения цены на заказанный Товар Продавец обязуется в течение 14(четырнадцати) дней проинформировать Покупателя об изменении цены Товара.',
    '',
    '3.4. Покупатель вправе подтвердить либо аннулировать Заказ на приобретение Товара, если цена изменена Продавцом после оформления Заказа.',
    '',
    '3.5. Изменение Продавцом цены на оплаченный Покупателем Товар не допускается.',
    '',
    '3.6. Продавец указывает стоимость доставки Товара на сайте Интернет-магазина либо сообщает Покупателю при оформлении заказа Оператором.',
    '',
    '3.7. Обязательства Покупателя по оплате Товара считаются исполненными с момента поступления Продавцу денежных средств в полной сумме.',
    '',
    '3.8. Расчеты между Продавцом и Покупателем за Товар производятся способами, указанными на сайте Интернет-магазина в разделе «Каталог».',
    '',
    '4. ОФОРМЛЕНИЕ ЗАКАЗА',
    '',
    '4.1. Заказ Товара осуществляется Покупателем через Оператора по телефону +7 (929) 989-26-61 (в рабочие часы) или через сервис сайта Интернет-магазина.',
    '',
    '4.2. При регистрации создается личный кабинет Покупателя с уникальным логином и паролем. При регистрации на сайте Интернет-магазина Покупатель обязуется предоставить следующую регистрационную информацию:',
    '',
    '4.2.1. фамилия, имя, отчество Покупателя или указанного им лица (получателя);',
    '4.2.2. адрес, по которому следует доставить Товар (если доставка до адреса Покупателя);',
    '4.2.3. адрес электронной почты;',
    '4.2.4. контактный телефон.',
    '',
    '4.3. Наименование, количество, ассортимент, артикул, цена выбранного Покупателем Товара указываются в корзине Покупателя на сайте Интернет-магазина.',
    '',
    '4.4. Если Продавцу необходима дополнительная информация, он вправе запросить ее у Покупателя. В случае непредоставления необходимой информации Покупателем, Продавец не несет ответственности за выбранный Покупателем Товар.',
    '',
    '4.5. При оформлении Заказа через Оператора (п. 4.1. настоящей Оферты) Покупатель обязуется предоставить информацию, указанную в п. 4.2. настоящей Оферты.',
    '',
    '4.6. Принятие Покупателем условий настоящей Оферты осуществляется посредством внесения Покупателем соответствующих данных в регистрационную форму на сайте Интернет-магазина или при оформлении Заказа через Оператора. После оформления Заказа через Оператора данные о Покупателе регистрируются в базе данных Продавца. Утвердив Заказ выбранного Товара, Покупатель предоставляет Оператору необходимую информацию в соответствии с порядком, указанном в п. 4.2. настоящей Оферты.',
    '',
    '4.7. Продавец не несет ответственности за содержание и достоверность информации, предоставленной Покупателем при оформлении Заказа.',
    '',
    '4.8. Покупатель несет ответственность за достоверность предоставленной информации при оформлении Заказа.',
    '',
    '4.9. Договор купли-продажи дистанционным способом между Продавцом и Покупателем считается заключенным с момента выдачи Продавцом Покупателю кассового или товарного чека либо иного документа, подтверждающего оплату Товара.',
    '',
    '4.10. Оформляя Заказ, Покупатель подтверждает, что:',
    '',
    '• является дееспособным гражданином или уполномоченным на заказ товара представителем юридического лица;',
    '• ознакомлен с действующей редакцией Оферты и согласен с ее условиями;',
    '• принимает на себя обязательство оплатить заказанный Товар и принять его;',
    '• предоставил достоверную информацию при регистрации на сайте интернет-магазина и оформлении заказа;',
    '• передает Продавцу для обработки в целях заключения и исполнения договора свои персональные данные: полное имя, номер телефона, адреса электронной почты и доставки товара (для покупателя-гражданина) (п. 5 ч. 1 ст. 6 Закона о персональных данных);',
    '• дает согласие на обработку переданных персональных данных в целях направления ему сообщений рекламного характера о товаре, проведения опросов и розыгрышей призов среди покупателей, контроля удовлетворенности покупателя (для покупателя-гражданина) (п. 1 ч. 1 ст. 6 Закона о персональных данных). Покупатель вправе отозвать согласие, уведомив Продавца письменно по адресу его электронной почты;',
    '• дает предварительное согласие на получение рекламно-информационных сообщений в форме рассылок по электронной почте и СМС-сообщений на электронный адрес и номер телефона, предоставленные при регистрации в интернет-магазине (ч. 1 ст. 18 Закона о рекламе). Покупатель вправе отозвать согласие, уведомив продавца письменно по адресу его электронной почты.',
    '',
    '5. ДОСТАВКА И ПЕРЕДАЧА ТОВАРА ПОКУПАТЕЛЮ',
    '',
    '5.1. Продавец оказывает Покупателю услуги по доставке Товара одним из способов, указанных на сайте Интернет-магазина.',
    '',
    '5.2. Если Договор купли-продажи товара дистанционным способом (далее – Договор) заключен с условием о доставке Товара Покупателю, Продавец обязан в установленный Договором срок доставить Товар в место, указанное Покупателем, а если место доставки Товара Покупателем не указано, то по месту его жительства или регистрации.',
    '',
    '5.3. Место доставки Товара Покупатель указывает при оформлении Заказа на приобретение Товара.',
    '',
    '5.4. Срок доставки Товара Покупателю состоит из срока обработки заказа и срока доставки.',
    '',
    '5.5. Доставленный Товар передается Покупателю, а при отсутствии Покупателя - любому лицу, предъявившему квитанцию или иной документ, подтверждающий заключение Договора или оформление доставки Товара.',
    '',
    '5.6. Право собственности на товар переходит к Покупателю в момент фактической передачи ему товара при условии его полной оплаты.',
    '',
    '5.7. Информация о Товаре доводится до сведения Покупателя в технической документации, прилагаемой к Товару, на этикетках, путем нанесения маркировки или иным способом, принятым для отдельных видов товаров.',
    '',
    '5.8. Сведения об обязательном подтверждении соответствия Товара представляются в порядке и способами, которые установлены законодательством Российской Федерации о техническом регулировании, и включают в себя сведения о номере документа, подтверждающего такое соответствие, о сроке его действия и об организации, его выдавшей.',
    '',
    '6. ВОЗВРАТ И ОБМЕН ТОВАРА',
    '',
    '6.1. Если Покупатель обнаружит у товара недостатки, то вправе предъявить Продавцу требования, предусмотренные Гражданским кодексом РФ и иными правовыми актами. В том числе он вправе отказаться от договора, вернуть некачественный товар Продавцу и потребовать возврата уплаченных денег. Покупатель-потребитель также имеет право предъявить требования, предусмотренные Законом РФ "О защите прав потребителей" от 07.02.1992 N 2300-1, Правилами продажи товаров по договору розничной купли-продажи, утвержденными Постановлением Правительства РФ от 31.12.2020 N 2463, и иными правовыми актами в сфере защиты прав потребителей. Порядок предъявления требований определяется указанными правовыми актами.',
    '',
    '6.2. Претензии по качеству товара направляются в письменном виде на электронный адрес Продавца. В претензии необходимо указать полное имя (наименование) Покупателя, номер и дату заказа, дату оплаты и дату передачи товара, а также описать выявленные недостатки, дату и обстоятельства их обнаружения. К претензии могут быть приложены фотографии.',
    '',
    '6.3. Покупатель-потребитель вправе отказаться от товара надлежащего качества (за исключением технически сложного товара) в течение 7 (семи) дней со дня его передачи, если сохранены его товарный вид, потребительские свойства и документ, который подтверждает факт и условия покупки. Если документ не сохранен, можно предъявить другие доказательства покупки. Покупатель составляет заявление о возврате товара, с указанием своего полного имени, номера и даты заказа, даты оплаты и даты передачи товара.',
    '',
    '6.4. При возврате товара (как надлежащего качества, так и с недостатками) Продавец возвращает покупателю стоимость товара не позднее чем через 10 (десять) дней с момента, когда покупатель потребует вернуть деньги, на банковские реквизиты, с которых деньги поступили Продавцу. Если возвращен качественный товар, из суммы к возврату вычитается стоимость обратной доставки.',
    '',
    '6.5. Покупатель-потребитель вправе обменять товар надлежащего качества, который не подошел ему по форме, габаритам, фасону, расцветке, размеру или комплектации, в течение 14 дней, не считая дня передачи товара, на аналогичный товар из ассортимента продавца. Обмен производится по согласованию с продавцом на условиях Гражданского кодекса РФ и Закона РФ "О защите прав потребителей" от 07.02.1992 N 2300-1, если покупатель является потребителем.',
    '',
    '7. РЕКВИЗИТЫ ПРОДАВЦА',
    '',
    'Продавец:',
    '',
    'ИП БОГАТЫРЁВ АЛЕКСЕЙ АЛЕКСАНДРОВИЧ',
    'ИНН 771533374573',
    'Р/счет: 40802810500003249109',
    'Банк получателя: АО "ТИНЬКОФФ БАНК"',
    'БИК: 044525974',
    'К/счет: 30101810145250000974',
    '',
    'Контактная информация:',
  ],
  contacts: {
    phone: '+7 (929) 989-26-61',
    email: 'shop@weapon-culture.ru'
  }
};

const OfferPage = () => {
  const [isContactsModalOpen, setIsContactsModalOpen] = React.useState(false);
  const [isMounted, setIsMounted] = React.useState(false);

  React.useEffect(() => {
    setIsMounted(true);
  }, []);

  const handlePhoneClick = () => {
    window.location.href = `tel:${offerData.contacts.phone}`;
  };

  const handleEmailClick = () => {
    window.location.href = `mailto:${offerData.contacts.email}`;
  };

  const handleContactsClick = () => {
    setIsContactsModalOpen(true);
  };

  const handleCloseContactsModal = () => {
    setIsContactsModalOpen(false);
  };

  return (
    <>
      <Head>
        <title>Договор-оферта - Shop4Shoot</title>
        <meta name="description" content="Публичная оферта интернет-магазина Shop4Shoot - условия покупки товаров" />
      </Head>
      <Header />
      <Breadcrumbs items={breadcrumbItems} />

      <main className={styles.aboutContainer}>
        <div className={styles.aboutContent}>
          <h1 className={styles.aboutTitle}>{offerData.title}</h1>
          
          <div className={styles.aboutText}>
            {offerData.content.map((paragraph, index) => (
              <p key={index} className={styles.aboutParagraph}>
                {paragraph}
              </p>
            ))}
            
            <p className={styles.aboutParagraph}>
              e-mail: <span 
                style={{ color: COLORS.primary, cursor: 'pointer', textDecoration: 'underline' }}
                onClick={handleEmailClick}
              >
                {offerData.contacts.email}
              </span>
            </p>
            
            <p className={styles.aboutParagraph}>
              тел: <span 
                style={{ color: COLORS.primary, cursor: 'pointer', textDecoration: 'underline' }}
                onClick={handlePhoneClick}
              >
                {offerData.contacts.phone}
              </span>
            </p>

            <div className={styles.aboutParagraph} style={{ marginTop: '30px', paddingTop: '20px', borderTop: '1px solid #ddd' }}>
              <strong>Внимательно ознакомьтесь с текстом публичной оферты, и если Вы не согласны с каким-либо пунктом оферты, Вы вправе отказаться от покупки Товаров, предоставляемых Продавцом, и не совершать действий, указанных в п. 2.1. настоящей Оферты.</strong>
            </div>

            <p className={styles.aboutParagraph}>
              По всем вопросам обращайтесь: <span 
                style={{ color: COLORS.primary, cursor: 'pointer', textDecoration: 'underline' }}
                onClick={handleContactsClick}
              >
                заполните форму обратной связи
              </span> или свяжитесь с нами по указанным контактам.
            </p>
          </div>
        </div>
      </main>

      {isMounted && (
        <ContactsModal 
          isOpen={isContactsModalOpen}
          onClose={handleCloseContactsModal}
        />
      )}

      <Footer />
    </>
  );
};

export default OfferPage; 